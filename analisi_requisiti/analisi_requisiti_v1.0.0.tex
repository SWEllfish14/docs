\documentclass[12pt]{article}
\usepackage{graphicx} % Required for inserting images
\usepackage{hyperref}
\usepackage{makecell}
\usepackage{makeidx}
\usepackage{eurosym}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{longtable}
\input{../templates/first_page.tex} 
\input{../templates/tabella_versioni.tex}
\input{../templates/styles.tex}
\graphicspath{ {../templates/img/} }

\begin{document}
\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{4}
\title{Analisi dei Requisiti}

\firstPage

\graphicspath{ {./UML/images/} }

\maketitle

\begin{center}
    \begin{tabular}{r | l}
		\multicolumn{2}{c}{\textit{Informazioni}}\\
		\hline
		
			\textit{Redattori} &
			[Davide Porporati, Elena Marchioro, Francesco Naletto]\makecell{}\\

			\textit{Revisori} &
			[Jude Vensil Braceros]\makecell{}\\
			\textit{Responsabili} &
			[Andrea Veronese]\makecell{}\\
		      \textit{Uso} & 
                [Esterno]\makecell{}\\
    \end{tabular}
\end{center}

\begin{center}
    \textbf{Descrizione}\\
	File contenente l'analisi dei requisiti necessaria per la realizzazione del progetto. 
\end{center}

\pagebreak

\addversione{0.0.0}{24/04/2023}{Andrea Veronese}{Davide Porporati}{Creata struttura di base del documento}
\addversione{0.0.1}{24/04/2023}{Davide Porporati, Elena Marchioro, Francesco Naletto}{Jude Vensil Barceros}{Aggiunti casi d'uso di base}
\addversione{0.0.2}{26/04/2023}{Davide Porporati, Elena Marchioro, Francesco Naletto}{Jude Vensil Barceros}{Aggiunta nuovi casi d'uso come da capitolato Lumos Minima}
\addversione{0.0.3}{03/05/2023}{Elena Marchioro, Francesco Naletto, Jude Vensil Braceros}{Andrea Veronese}{Ristrutturazione casi d'uso in vista del primo diario di bordo}
\addversione{0.0.4}{09/05/2023}{Andrea Veronese, Francesco Naletto, Jude Vensil Braceros}{Claudio Giaretta}{Aggiunti ulteriori casi d'uso}
\addversione{0.0.5}{17/05/2023}{Andrea Veronese, Claudio Giaretta, Jude Vensil Braceros}{Davide Porporati}{Modificati casi d'uso su indicazione di Imola Informatica}
\addversione{0.0.6}{30/05/2023}{Davide Porporati}{Claudio Giaretta}{Inserite le immagini UML}
\addversione{0.1.0}{07/06/2023}{Claudio Giarretta}{Francesco Naletto}{Aggiornate le immagini UML e verificato intero documento}
\makeversioni

\section{Introduzione}
Lo scopo di questo documento è quello di raccogliere i risultati dell'attività di analisi dei requisti, includendo la descrizione dei casi d'uso del software e i requisiti necessari per la sua realizzazione.
Questa analisi nasce dalla necessità di dimostrare di aver capito a fondo i requisiti del problema e le aspettative della soluzione che il nostro gruppo andrà a proporre.
I casi d'uso analizzati in seguito, dovranno essere tenuti in considerazione durante tutte le fasi di progettazione, verifica e validazione.

\subsection{Riferimenti}
Questo documento contiene un'analisi tecnica dei requisiti necessari allo sviluppo del software per il capitolato C2 Lumos Minima.

I documenti in cui vengono specificati i requisiti sono i seguenti:
\begin{itemize}
	\item Capitolato d'appalto C2
	\item Norme di progetto
	\item Verbale dell'incontro conoscitivo con Imola del 14/03/2023
	\item Verbale dell'incontro per l'approfondimento dei requisiti con Imola del 21/04/2023
	\item Verbale dell'incontro per la revisione dei casi d'uso con Imola del 16/05/2023
\end{itemize}

Mentre i documenti che ci forniscono un'indicazione su come fare sono i seguenti:
\begin{itemize}
	\item Slide analisi requisiti - T06, prof. Vardenega
	\item Slide diagrammi d'uso - Diagrammi e Use Case, prof. Cardin
\end{itemize}

\section{Descrizione del prodotto}
L'azienda Imola Informatica propone lo sviluppo di una "$webapp$" che consente la gestione automatica o manuale degli impianti di illuminazione pubblica "$smart$", ovvero dotati di sensori in grado di rilevare la presenza di persone o veicoli in transito.
Lo scopo del progetto è quello di fornire una piattaforma che grazie all'automazione permette di ridurre i consumi elettrici e aumentare la sicurezza stradale dei luoghi in cui verrà impiegata.
Il funzionamento di tale sistema avviene secondo delle fasi ben precise:
\begin{itemize}
	\item l'illuminazione viene impostata ad un livello standard, ovvero un numero compreso tra 0 (spento) e 10(luminosità massima)
	\item Se un sensore rileva un veicolo o una persona, aumenta la luminosità di tutti i lampioni della zona ad un livello prefissato
	\item Viene fatto trascorrere un intervallo temporale predefinito, nell'ordine di alcuni minuti
	\item Se al termine dell'intervallo stabilito non ci sono nuovi rilevamenti da parte dei sensori, la luminosità viene abbassata, come descritto nel primo punto del funzionamento del sistema, al livello pre-rilevamento.
\end{itemize}
Oltre al funzionamento automatico il capitolato prevede la possibilità di un funzionamento manuale. \\
Questa modalità deve permettere all'amministratore di sistema di aumentare o ridurre a piacimento la luminosità in una data area, senza che ci sia un effettivo rilevamento.

\subsection{Parti del prodotto}
Il sistema software sarà composto dalle seguenti unità:
\begin{itemize}
	\item webapp, ovvero la pagina web che permette di gestire la aree illuminate
	\item interfacciamento con i lampioni e con i sensori, che avverrà tramite chiamate api-rest o client mqtt.
	\item schermata di login/logout, per consentire l'accesso al sistema solamente ai soggetti autorizzati
	\item tracciamento dei guasti
	\item schermata per aggiungere,modificare o eliminare lampioni/sensori o intere aree illuminate
	\item manuale d'uso
\end{itemize}
Il termine "WebApp" si riferisce all'insieme dei seguenti componenti del sistema:
\begin{itemize}
	\item Frontend: Dashboard accessibile via web che permette di interagire graficamente con il sistema
	\item Backend: Sistema di comunicazione e interazione con i dispositivi IoT utilizzati per gestire la luminosità di una zona
	\item Database: sistema usato per salvare e gestire dati strutturati di interesse per l'applicazione.
\end{itemize}

\subsection{Caratteristiche degli utenti}
Il capitolato prevede la presenza di due categorie distinte di utenti, ovvero l'amministratore di sistema e il manutentore. \\
Con Imola Informatica è stato concordato che tale utente riceve le credenziali direttamente dal gestore dell'impianto.
L'utente che ricoprirà il ruolo di amministratore può eseguire le seguenti operazioni:
\begin{itemize}
	\item Accedere alla dashboard
	\item Aumentare manualmente l'intensità luminosa di una o più zone
	\item Aggiungere, modificare e rimuovere lampioni in una zona predefinita
	\item Aggiungere, rimuovere o modificare le zone di illuminazione
	\item Tracciare le zone guaste e inserirle in un apposito elenco che funge da storico dei malfunzionamenti
\end{itemize}
Il SuperAmministratore potrà eseguire le seguenti operazioni:
\begin{itemize}
	\item tutte le operazioni consentite all'amministratore
	\item fornire le credenziali ai nuovi amministratori di sistema
\end{itemize}
Il manutentore godrà invece di permessi più limitati, infatti potrà eseguire le seguenti azioni:
\begin{itemize}
	\item consultare la lista degli impianti guasti
	\item rimuovere un impianto guasto dopo aver effettuato la manutenzione
\end{itemize}
\subsection{Vincoli e preferenze}

\subsubsection{Vincoli Tecnologici}
L'azienda proponente non ha imposto vincoli teconologici, ma ha dato dei suggerimenti da considerare:
\begin{itemize}
	\item Utilizzare framework open-source e ben noti, che non comportino il pagamento di canoni mensili o di licenze
	\item L'interfacciamento con i sensori o con i lampioni potrà avvenire tramite api-rest oppure tramite un broker mqtt come "$Mosquito$"
\end{itemize}

\subsubsection{Vincoli di consegna}
Per il completamento del progetto il proponente richede che le seguenti condizioni siano soddisfatte:
\begin{itemize}
	\item Soddisfacimento di tutti i requisiti obbligatori descritti nel capitolato
	\item test che dimostrino il corretto funzionamento delle funzionalità previste, con una percentuale di superamento \begin{math}\geq 80\% \end{math}, correlata da appositi report
	\item webapp completa, dotata di UI responsive
	\item documentazione su scelte implementative e progettuali effettuate,\\ con relativo registro delle motivazioni, dei problemi incontrati e delle soluzioni adottate per superarli.
\end{itemize}

\subsubsection{Vincoli prestazionali}
Il sistema suppone di utilizzare istanze di massimo 1GB di memoria e 2 CPU.

\subsubsection{Vincoli Opzionali}
\begin{itemize}
	\item Cifratura di tutte le comunicazioni tra app e server
	\item Vincoli di tempo permettendo, fornire un'analisi del carico massimo di sistema e dei servizi cloud più adatti ad hostare il sistema
\end{itemize}


\section{Casi d'uso}

\subsection{Attori primari}
Utente: persona con apposite credenziali e permessi che può accedere ad aree diverse del sistema ed eseguire operazioni differenti
Gli utenti vengono suddivisi nelle seguenti sottocategorie, ognuna delle quali ha dei privilegi e delle azioni eseguibili specifiche.
\begin{itemize}
	\item SuperAdmin: utente dotato dei massimi privilegi. Può fornire le credenziali ad altri amministratori e idealmente corrisponde alle società che utilizzano Lumos Minima
	\item Admin: Utente amministratore standard. Può effettuare tutte le operazioni previste dal sistema.
	\item Manutentore: utente base che può accedere a funzionalità limitate, riguardanti solamente la manutenzione dei lampioni e la gestione dei guasti.
\end{itemize}

\subsection{Attori secondari}
\begin{itemize}
	\item Sistema di ticketing: sistema esterno usato per gestire i ticket.
\end{itemize}

\subsection{Diagrammi dei casi d'uso}

\includegraphics[scale=0.5]{autenticazione.png}

\includegraphics[scale=0.5]{gestione area.png}	

\includegraphics[scale=0.5]{gestione guasti.png}	

\includegraphics[scale=0.5]{gestione sensore.png}	

\includegraphics[scale=0.5]{illuminazione.png}	

\includegraphics[scale=0.5]{informazioni.png}	

\pagebreak
\section{UC Obbligatori}

\subsection{Use Case 1 - Accesso al sistema con credenziali}
\textbf{Tipologia: obbligatorio} \\
L'utente è in possesso delle credenziali ed è riconosciuto come amministratore, ma non ha ancora effettuato l'accesso.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: l'amministratore vuole accedere al sistema per poterlo gestire, ma non è ancora loggato pur facendo parte del gruppo di utenti autorizzati.
	\item Postcondizioni: l'utente è riconosciuto dal sistema e può svolgere le consuete attività
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente inserisce l'username
	\item l'utente inserisce la password
	\item l'utente riceve una conferma di avvenuto accesso e può operare nella dashboard
\end{itemize}
\paragraph{Estensioni} L'utente non è riconosciuto o non è presente nella lista dei soggetti autorizzati. Si rimanda allo "$Use Case 21 $".

\includegraphics[scale=0.4]{UC01.png}

\subsection{Use Case 2 - Visualizzazione stato sistema}
\textbf{Tipologia: obbligatorio} \\
L'utente autorizzato desidera avere una panoramica sullo stato del sistema.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: l'utente è un amministratore e vuole avere una panoramica sulla luminosità del sistema e sullo stato operativo delle aree gestite
	\item Postcondizioni: la webapp fornisce queste informazioni
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'amministratore si è loggato
	\item la webapp mostra la dashboard come landing page
\end{itemize}

\includegraphics[scale=0.5]{UC02.png}

\subsection{Use Case 3 - Aumento luminosità automatico}
\textbf{Tipologia: obbligatorio}\\
Uno o più sensori rilevano la presenza di utenti della strada e comandano l'aumento della luminosità.
\begin{itemize}
	\item Attori primario: sensore/i
	\item Precondizioni: uno o più sensori rilevano la presenza di pedoni o veicoli all'interno del loro raggio d'azione.
	\item Postcondizioni: la webapp riceve la segnalazione dei sensori e comanda tutti i lampioni della zona affinchè la luminosità dell'area venga incrementata.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item uno o più sensori rilevano la presenza di utenti stradali
	\item i sensori inviano un segnale alla webapp
	\item la webapp riceve il segnale
	\item vengono reperiti tutti gli indirizzi ip dei lampioni interessati
	\item la webapp incrementa la luminosità di tutti i lampioni della zona
\end{itemize}

\includegraphics[scale=0.5]{UC03.png}

\subsection{Use Case 4 - Diminuzione luminosità automatica}
\textbf{Tipologia: obbligatorio}\\
Uno o più sensori non rilevano più la presenza di utenti della strada e il sistema diminuisce automaticamente la luminosità, portandola alla soglia prefissata.
\begin{itemize}
	\item Attori primario: Webapp
	\item Precondizioni: uno o più sensori non rilevano la presenza di pedoni o veicoli all'interno del loro raggio d'azione.
	\item Postcondizioni: la webapp comanda i lampioni e la luminosità dell'area viene ripristinata al valore di default.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item dopo aver aumentato la luminosità a causa di un rilevamento, parte il countdown prefissato per la riduzione della luminosità
	\item se i sensori non rilevando più presenze, non interrompono il countdown
	\item se il countdown arriva a zero senza interruzioni, la webapp comanda la diminuzione della luminosità di tutti i lampioni della zona.
\end{itemize}

\includegraphics[scale=0.5]{UC04.png}

\subsection{Use Case 5 - Aumento luminosità manuale}
\textbf{Tipologia: obbligatorio} \\
L'amministratore vuole aumentare la luminosità indipendentemente dal fatto che ci sia un rilevamento o meno.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono aumentare manualmente la luminosità di una zona
	\item Postcondizioni:viene incrementata la luminosità della zona dopo aver fatto trascorre un "tempo tecnico" necessario per la propagazione dei comandi a tutti i lampioni afferenti ad un'area specifica.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede alla dashboard
	\item l'utente seleziona una o più zone con cui operare
	\item il database fornisce gli indirizzi ip dei lampioni della zona interessata
	\item l'utente incrementa manualmente la luminosità della zona selezionata
\end{itemize}
\paragraph{Estensioni} In caso di guasto di sistema o mancanza di rete, l'amministratore comanda l'aumento della luminosità ma non vi è un incremento effettivo dopo aver fatto trascorrere il tempo tecnico prefissato.\\
Al termine di questo lasso di tempo, se non vi è un cambiamento nella luminosità del sistema, la zona viene inserita dall'amministratore nell'elenco dei guasti. 

\subsubsection{Use Case 5.1 - Visualizzazione del messaggio d'errore}
\begin{itemize}
	\item Attore primario: SuperAdmin, Admin
	\item Precondizioni: L'attore primario ha tentato di aumentare la luminosità di una o più zone senza successo
	\item Post-condizioni: L'attore primario visualizza un messaggio recante un messaggio di errore
\end{itemize}

\includegraphics[scale=0.5]{UC05.png}

\subsection{Use Case 6 - Diminuzione luminosità manuale}
\textbf{Tipologia: obbligatorio} \\
L'amministratore vuole diminuire la luminosità indipendentemente che ci siano rilevamenti di utenti stradali o meno.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono diminuire manualmente la luminosità di una zona
	\item Postcondizioni: tutti i lampioni della zona vedono una diminuzione della luminosità
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede alla dashboard
	\item l'utente seleziona una o più zone con cui operare
 	\item il database fornisce gli indirizzi ip dei lampioni della zona interessata
	\item l'utente decrementa manualmente la luminosità delle zone selezionate
\end{itemize}
\paragraph{Estensioni} Nel caso in cui si comandi una dimunuzione della luminosità in modalità manuale, ma il sensore non rileva un decremento effettivo della luminosità dopo aver fatto trascorrere il "tempo tecnico", si visualizza un messaggio di errore.
Al termine del tempo prefissato, se non ci sono stati cambiamenti di luminosità, il sistema può essere inserito nell'elenco dei guasti dall'amministratore.

\includegraphics[scale=0.5]{UC06.png}

\subsection{Use Case 7 - Inserimento nuova area illuminata}
\textbf{Tipologia: obbligatorio} \\
L'amministratore vuole inserire a sistema una nuova area da gestire che potrà essere dotata di sensori e lampioni in un secondo momento.\\
Se sono presenti dispositivi comandabili, si vuole poter eseguire le operazioni consentite dal sistema.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono aggiungere una nuova zona illuminata da gestire tramite la webapp
	\item Postcondizioni: viene aggiunta la nuova zona alla lista di quelle già presenti a sistema ed è possibile inserire lampioni e sensori da comandare.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente preme il pulsante di creazione di una nuova zona
	\item l'utente inserisce i dettagli della zona appena creata
	\item la nuova zona illuminata prevede l'inserimento di lampioni e sensori, ma se non sono stati inseriti le funzioni smart come l'aumento o ladiminuzione della luminosità risultano momentaneamente non disponibili
	\item la zona inserita viene salvata sul database per la ridondanza
\end{itemize}

\includegraphics[scale=0.5]{UC07.png}

\subsection{Use Case 8 - Rimozione area illuminata}
\textbf{Tipologia: obbligatorio} \\
L'amministratore vuole rimuovere una zona illuminata in quanto non viene più gestita dal sistema.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono rimuovere una zona illuminata gestita tramite la webapp
	\item Postcondizioni: viene rimossa la zona e i relativi dispositivi presenti e non è più possibile effettuare le operazioni consentite.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede alla lista delle zone gestite
	\item l'utente rimuove la zona illuminata tramite l'apposito tasto
	\item la zona viene rimossa dal database 
	\item i lampioni e i sensori afferenti a tale area vengono eliminati a cascata dal database
\end{itemize}

\includegraphics[scale=0.5]{UC08.png}

\subsection{Use Case 9 - Modifica informazioni area illuminata}
\textbf{Tipologia: obbligatorio} \\
L'utente vuole modificare le informazioni di una zona illuminata, come ad esempio l'indirizzo ip di un sensore che è stato sostituito.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono modificare le informazioni di una  zona illuminata da gestire tramite la webapp
	\item Postcondizioni: vengono modificati i dettagli della zona in questione ed è possibile effettuare le operazioni consentite dal software.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede alla lista delle zone gestite
	\item l'utente selezione la zona desiderata
	\item l'utente preme l'apposito pulsante di modifica
	\item l'utente può modificare i seguenti parametri:
		\begin{itemize}
			\item indirizzo IP
			\item tipo interazione con il sensore
			\item polling time
			\item protocollo di comunicazione
		\end{itemize}
	\item le informazioni aggiornate vengono salvate sul database
\end{itemize}
\paragraph{Estensioni} In caso di un errore nell'inserimento dei parametri nuovi, l'amministratore riceve un messaggio di errore.

\subsubsection{Use Case 9.1 - Visualizzazione del messaggio d'errore in modalità di modifica}
\begin{itemize}
	\item Attore primario: SuperAdmin, Admin
	\item Precondizioni: L'attore primario ha modificato uno o più dettagli di una zona illuminata
	\item Post-condizioni: I dettagli non vengono modificati e l'utente visualizza un messaggio recante un messaggio di errore.
\end{itemize}

\includegraphics[scale=0.5]{UC09.png}

\subsection{Use Case 10 - Inserimento nuovo sensore}
\textbf{Tipologia: obbligatorio}\\
L'amministratore vuole inserire un nuovo sensore che comanda l'aumento o la riduzione della luminosità di una zona gestita.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono inserire un nuovo sensore a sistema per la rilevazione degli utenti stradali.\\
	 Per compiere quest'operazione è necessario essere in possesso delle seguenti informazioni: 
	\begin{itemize}
		\item zona illuminata in cui il sensore è installato
		\item tipo di iterazione con il sensore: Push o Pull
		\item indirizzo IP
		\item polling time
		\item coordinate geografiche del sensore
		\item raggio d'azione del dispositivo
	\end{itemize}
	\item Postcondizioni: il sensore viene inserito a sistema ed è possibile sfruttare il funzionamento automatico del sistema.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede ad un area illuminata
	\item l'utente preme il pulsante di inserimento di un sensore
	\item l'utente inserisce i dettagli richiesti dal form per l'inserimento
	\item l'utente preme salva
	\item viene effettuato un test di comunicazione
	\item se il test è andato a buon fine riceve un messaggio di successo, altrimenti verrà visualizzato un errore
\end{itemize}
\paragraph{Estensioni} In caso di un errore nell'inserimento dei parametri nuovi,come ad esempio l'indirizzo ip del sensore,  l'amministratore riceve un messaggio di errore a seguito del fallimento del test di comunicazione.

\includegraphics[scale=0.5]{UC10.png}

\subsection{Use Case 11 - Rimozione sensore}
\textbf{Tipologia: obbligatorio}\\
L'amministratore vuole rimuovere un sensore che comanda l'aumento o la riduzione della luminosità di una zona gestita.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono rimuovere un sensore dal sistema.
	\item Postcondizioni: non è più possibile aumentare o diminuire automaticamente la luminosità in una data zona.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede ad un area illuminata
	\item l'utente preme il pulsante di rimozione di un sensore
	\item l'utente riceve un avviso di conferma
	\item l'utente preme salva
	\item il sensore viene rimosso dal database
	\item l'utente riceve un messaggio di successo o di errore
\end{itemize}


\subsection{Use Case 12 - Logout dal sistema}
\textbf{Tipologia: obbligatorio} \\
L'utente è riconosciuto come amministratore e vuole effettuare il logout dal sistema.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: l'amministratore ha accesso al sistema per poterlo gestire
	\item Postcondizioni: l'utente viene disconnesso e non può più operare, ma rimane nella lista degli amministratori.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente ha accesso al sistema
	\item l'utente preme il pulsante di logout
	\item viene effettuata la disconnessione ed è necessario reinserire le credenziali per operare nuovamente
\end{itemize}


\subsection{Use Case 13 - Visualizzazione elenco aree illuminate}
\textbf{Tipologia: obbligatorio} \\
L'utente autorizzato vuole avere una panoramica delle aree illuminate
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: l'utente è un amministratore e vuole avere una panoramica sulla luminosità e sullo stato del sistema.
	\item Postcondizioni: l'amministratore visualizza la lista delle aree e può interagire
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente preme il pulsante che fornisce la panoramica del sistema
	\item l'elenco delle aree a sistema viene reperito dal database
	\item viene visualizzato l'elenco delle aree illuminate
\end{itemize}


\subsection{Use Case 14 - Inserimento di un impianto nella sezione guasti}
\textbf{Tipologia: obbligatorio} \\
L'amministratore rileva un guasto e inserisce manualmente l'impianto nell'elenco dei sistemi con guasti.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: un sensore rileva una discrepanza tra luminosità rilevata e quella impostata in un'impianto gestito.
	\item Postcondizioni: l'amministratore inserisce l'area nell'elenco dei guasti
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente preme il pulsante che fornisce la panoramica del sistema
	\item viene visualizzato l'elenco delle aree illuminate
	\item viene rilevata una discrepanza tra luminosità misurata e quella impostata. Viene segnalata graficamente la presenza del guasto.
	\item l'amministratore inserisce l'impianto nell'elenco dei guasti
	\item viene aggiornata la tabella dei guasti nel database
\end{itemize}

\includegraphics[scale=0.5]{UC14.png}

\subsection{Use Case 15 - Rimozione di un impianto dalla sezione guasti}
\textbf{Tipologia: obbligatorio} \\
L'impianto è marcato come guasto, ma il malfunzionamento è stato risolto dai manutentori.
\begin{itemize}
	\item Attori primari: Manutentore
	\item Precondizioni: l'impianto con un guasto viene sistemato dai manutentori
	\item Postcondizioni: il manutentore rimuove le aree in questione dall'elenco dei guasti
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item il manutentore accede alla lista degli impianti guasto
	\item l'utente selezione l'impianto su cui è stata eseguita la manutenzione
	\item l'utente preme il pulsante di cancellazione dall'elenco
	\item l'impianto viene rimosso dalla sezione guasti
	\item nella webapp l'impianto appare nuovamente come funzionante e non è più segnalato graficamente il guasto
\end{itemize}


\subsection{Use Case 16 - Visualizzazione dettagliata di una zona}
\textbf{Tipologia: obbligatorio} \\
L'amministratore vuole conoscere in dettaglio le impostazioni di una zona.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: l'amministratore vuole sapere lo stato di una zona e la luminosità pre-impostata
	\item Postcondizioni: l'utente ottiene le informazioni desiderate
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente preme il pulsante che fornisce la panoramica delle zone
	\item l'utente sceglie la zona desiderata
	\item l'utente preme il pulsante "dettagli"
	\item la webapp mostra lo stato della zona, la luminosità preimpostata
\end{itemize}

\includegraphics[scale=0.5]{UC16.png}

\subsection{Use Case 17 - Visualizzazione dettagliata di un lampione}
\textbf{Tipologia: obbligatorio} \\
L'amministratore vuole conoscere in dettaglio la luminosità di un lampione.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: l'amministratore vuole sapere lo stato e le impostazioni di un lampione
	\item Postcondizioni: l'utente visualizza le impostazioni del lampione
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente preme il pulsante che fornisce la panoramica delle zone
	\item l'utente sceglie la zona desiderata
	\item l'utente sceglie il lampione desiderato
	\item l'utente preme il pulsante di informazioni del lampione
	\item la webapp fa una richiesta al lampione
	\item il lampione trasmette le informazioni
	\item la webapp mostra le informazioni
\end{itemize}

\includegraphics[scale=0.5]{UC17.png}

\subsection{Use Case 18 - Inserimento di un lampione}
\textbf{Tipologia: obbligatorio}\\
L'amministratore vuole inserire un nuovo lampione all'interno di un'area gestita.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono inserire un nuovo lampione a sistema.\\
	 Per compiere quest'operazione è necessario essere in possesso delle seguenti informazioni: 
	\begin{itemize}
		\item tipo di iterazione con il lampione: Push o Pull
		\item indirizzo IP
		\item polling time
		\item coordinate geografiche del lampione
	\end{itemize}
	\item Postcondizioni: il lampione è inserito a sistema e può essere comandato.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede ad un area illuminata
	\item l'utente preme il pulsante di inserimento di un lampione
	\item l'utente inserisce i dettagli richiesti dal form per l'inserimento
	\item l'utente preme salva
	\item il lampione viene aggiunto nel database nella zona di competenza
	\item l'utente riceve un messaggio di successo o di errore
\end{itemize}


\subsection{Use Case 19 - Rimozione lampione}
\textbf{Tipologia: obbligatorio}\\
L'amministratore vuole rimuovere un lampione all'interno dell'area gestita.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: gli amministratori vogliono rimuovere un lampione a sistema.\\
	\item Postcondizioni: il lampione non è più comandabile e non fa più parte della zona.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente accede ad un area illuminata
	\item l'utente selezione il lampione desiderato
	\item l'utente preme il pulsante di rimozione
	\item l'utente preme salva
	\item il lampione viene rimosso dal database
	\item l'utente riceve un messaggio di errore o di successo
\end{itemize}


\subsection{Use Case 20 - Consultazione elenco zone con guasti}
\textbf{Tipologia: obbligatorio}\\
Il manutentore vuole consultare la lista delle zone con dei malfunzionamenti per sapere dove intervenire.
\begin{itemize}
	\item Attori primari: manutentore
	\item Precondizioni: il manutentore vuole sapere quali zone presentano dei guasti.\\
	\item Postcondizioni: il manutentore ottiene la lista delle zone in cui è stato rilevato un malfunzionamento.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item il manutentore effettua il login
	\item l'utente selezione il pulsante per la panoramica dei guasti
	\item la tabella corrispondente viene reperita dal database
\end{itemize}


\subsection{Use Case 21 - Apertura ticket}
\textbf{Tipologia: obbligatorio}\\
L'amministratore apre un ticket per un guasto rilevato
\begin{itemize}
	\item Attori primari: Admin
	\item Attore secondario: sistema di ticketing
	\item Precondizioni: è stato rilevato un guasto in una zona illuminata.
	\item Postcondizioni: un apposito ticket è stato creato e presenta i dettagli utili al manutentore.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item viene rilevato un guasto
	\item l'Admin crea il nuovo ticket
	\item il ticket è visualizzabile dal manutentore
\end{itemize}

\includegraphics[scale=0.5]{UC21.png}

\subsection{Use Case 22 - Chiusura ticket}
\textbf{Tipologia: obbligatorio}\\
L'amministratore chiude un ticket del un guasto sistemato
\begin{itemize}
	\item Attori primari: Admin
	\item Attori secondari: sistema di ticketing
	\item Precondizioni: è stata fatta la dovuta manutenzione
	\item Postcondizioni: il ticket che era stato creato è stato archiviato. 
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item il guasto rilevato viene sistemato
	\item l'Admin chiude il ticket precedentemente creato
	\item il titcket viene archiviato
\end{itemize}

\includegraphics[scale=0.5]{UC22.png}

\subsection{Use Case 23 - Visualizzazione lista ticket}
\textbf{Tipologia: obbligatorio}\\
Il manutentore vuole consultare i dettagli di un guasto
\begin{itemize}
	\item Attori primari: manutentore
	\item Attori secondari: sistema di ticketing
	\item Precondizioni: il manutentore vuole sapere ulteriori dettagli sulla zona da operare.
	\item Postcondizioni: il ticket fornisce delle informazioni aggiuntive.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item il manutentore visualizza i vari guasti
	\item il manutentore sceglie il guasto su cui intervenire
	\item visualizza il ticket che mostrerà ulteriori informazioni
\end{itemize}


\section{UC Desiderabili}

\subsection{Use Case 24 - Primo accesso al sistema senza credenziali}
\textbf{Tipologia: desiderabile.} \\
L'utente vuole poter operare come amministratore ma non ha ancora ottenuto le credenziali necessarie all'accesso.
\begin{itemize}
	\item Attori primari: Nuovi Admin
	\item Precondizioni: i nuovi amministratori vorrebbero poter accedere al sistema, ma non sono ancora autorizzati
	\item Postcondizioni: I SuperAmministratori, dopo essere stata contattati dagli amministratori interessati, forniscono le credenziali per l'accesso al sistema.
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente contatta via mail il servizio clienti di del gestore del sisitema
	\item il superamministratore del sistema fornisce le credenziali
	\item l'utente viene impostato come amministratore
	\item l'utente effettua l'accesso
	\item l'utente riceve una conferma di avvenuto accesso e può operare nella dashboard
\end{itemize}


\subsection{Use Case 25 - Consultazione manuale Lumos Minima}
\textbf{Tipologia: desiderabile}\\
L'utente non sa come funziona il sistema o come eseguire un'operazione specifica e vuole approfondire questi aspetti.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin, Manutentori
	\item Precondizioni: l'amministratore o il manutentore usa il sistema e vorrebbe avere una panoramica dettagliata sul suo funzionamento.
	\item Postcondizioni: l'utente consulta il manuale d'uso
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item L'utente si autentica.
	\item l'utente clicca l'apposito bottone per visualizzare il manuale
	\item viene aperta una nuova finestra del browser che mostra il manuale utente sottoforma di PDF
\end{itemize}


\subsection{Use Case 26 - Configurazione iniziale delle impostazioni di una nuova zona illuminata}
\textbf{Tipologia: desiderabile} \\
Per ogni zona illuminata inserita a sistema vengono fornite delle impostazioni di default che permettono il corretto funzionamento del sistema senza intraprendere azioni aggiuntive.
\begin{itemize}
	\item Attori primari: SuperAdmin, Admin
	\item Precondizioni: l'amministratore accede al sistema e inserisce una nuova zona illuminata.
	\item Postcondizioni: la nuova zona viene settata con delle impostazioni standard, senza richiedere ulteriori azioni
\end{itemize}
\paragraph{Scenario Principale}
\begin{itemize}
	\item l'utente aggiunge una nuova area illuminata
	\item vengono applicate le impostazioni di default, come la luminosità minima e massima
	\item tutti i lampioni della zona vengono tarati con queste impostazioni.
\end{itemize}


\section{Requisiti}
\subsection{Funzionali}
\begin{longtable}{ |p{1.8cm}|p{5.2cm}|p{3cm}| p{2cm}|}
\caption{Requisiti} \label{tab:tabellaRequisiti} \\
\hline
\textbf{Requisito} & \textbf{Descrizione} & \textbf{Classificazione} & \textbf{Fonti} \\
\hline
\endhead
\hline
\endfoot
RF1 & L'utente deve poter fare il login al sistema  & Obbligatorio & Capitolato Use Case 1 \\
RF2 & L'utente visualizza lo stato del sistema & Obbligatorio & Capitolato Use Case 2 \\
RF3 & Implementare l'aumento della luminosità automatico al rivelamento di una presenza & Obbligatorio & Capitolato Use Case 3 \\
RF4 & Implementare la diminuzione della luminosità automatico quando non vengono più rilevate persone & Obbligatorio & Capitolato Use Case 4\\
RF5 & L'utente deve poter aumentare la luminosità& Obbligatorio & Capitolato Use Case 5 \\
RF5.1 & Viene visualizzato un messaggio d'errore se non si è potuto aumentare la luminosità & Obbligatorio & Use Case 5.1 \\
RF6 & L'utente deve poter diminuire la luminosità & Obbligatorio & Use Case 6\\
RF7 & L'utente deve poter inserire una nuova area illuminata & Obbligatorio & Use Case 7 \\
RF8 & L'utente deve poter rimuovere una nuova area illuminata & Obbligatorio & Use Case 8\\
RF9 & L'utente deve poter modificare le informazioni di una zona illuminata & Obbligatorio & Use Case 9 \\
RF9.1 & Viene visualizzato un messaggio d'errore se non si è potuta effetuare la modifica & Obbligatorio & Use Case 9.1\\
RF10 & L'utente deve poter inserire un nuovo sensore in una zona illuminata & Obbligatorio & Capitolato Use Case 10 \\
RF11 & L'utente deve poter rimuovere un sensore da una zona illuminata & Obbligatorio & Use Case 11 \\
RF12 & L'utente deve poter fare il logout dal sistema & Obbligatorio & Capitolato Use Case 12 \\
RF13 & L'utente visualizza l'elenco delle aree illuminate& Obbligatorio & Use Case 13 \\
RF14 & L'utente deve poter inserire un impianto nell'elenco dei guasti& Obbligatorio & Use Case 14 \\
RF15 & L'utente deve poter rimuovere un impianto dall'elenco dei guasti& Obbligatorio & Use Case 15 \\
RF16 & L'utente visualizza i dettagli di una zona& Obbligatorio & Use Case 16 \\
RF17 & L'utente visualizza i dettagli di un lampione& Obbligatorio & Use Case 17 \\
RF18 & L'utente deve poter inserire un nuovo lampione all'interno di un area illuminata& Obbligatorio & Use Case 18 \\
RF19 & L'utente deve poter rimuovere un lampione all'interno di un area illuminata& Obbligatorio & Use Case 19 \\
RF20 & L'utente visualizza l'elenco delle aree illuminate con dei malfunzionamenti& Obbligatorio & Use Case 20 \\
RF21 & L'amministratore apre una nuova segnalazione di un guasto tramite un ticket & Obbligatorio & Use Case 21\\
RF22 & L'amministratore chiude il ticket dopo aver fatto la dovuta manutenzione & Obbligatorio & Use Case 22\\
RF23 & Il manutentore visualizza i dettagli aggiuntivi di un guasto forniti dal ticket & Obbligatorio & Use Case 23\\
RF24 & L'utente non amministratore riceve le credenziali da amministratore da un superamministratore& Desiderabile & Use Case 24 \\
RF25 & L'utente consulta il manuale Lumos Minima & Desiderabile & Use Case 25\\
RF26 & Le nuove zone illuminate appena inserite hanno un setup standard& Desiderabile& Use Case 26\\
\hline
\end{longtable}
\subsection{Qualità}
\begin{tabular}{ |p{1.8cm}|p{5.2cm}|p{3cm}| p{2cm}| }
\hline
Requisito& Descrizione &Classificazione &Fonti \\
\hline
RQ1 & La webapp deve essere sviluppata seguendo le regole descritte nel documento Norme di progetto & Obbligatorio & Capitolato \\
RQ2 & Devono essere sviluppati dei test con una copertura minima dell'80\% e correlati di report & Obbligatorio & Capitolato\\
RQ3 & Deve essere prodotto un documento sulle scelte implementative e progettuali & Obbligatorio & Capitolato \\
RQ4 & Deve essere prodotto un documento sui problemi aperti e sulle eventuali soluzioni da esplorare & Obbligatorio & Capitolato \\
RQ5 & Fornire un’analisi rispetto al carico massimo supportato in numero di dispositivi e di quale sarebbe il servizio cloud più adatto per supportarlo analizzando prezzo, stabilità del servizio ed assistenza.  &  Facoltativo & Capitolato \\
\hline

\end{tabular}
\subsection{Sistemi Operativi}
Siccome il prodotto da sviluppare è una webapp da eseguire su browser non è stato individuato nessun requisito sui sistemi operativi.
\subsection{Prestazionali}
\end{document}
